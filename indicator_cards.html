<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¾è‚¡æƒ…ç»ªçœ‹æ¿ - æŒ‡æ ‡å¡ç‰‡</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }
        
        /* æŒ‡æ ‡å¡ç‰‡ç½‘æ ¼å¸ƒå±€ */
        .indicators-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4åˆ—å¸ƒå±€ */
            gap: 20px;
            margin-top: 30px;
        }
        
        /* æŒ‡æ ‡å¡ç‰‡æ ·å¼ */
        .indicator-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #2c3e50;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border: 1px solid #dee2e6;
            display: flex;
            flex-direction: column;
        }
        
        .indicator-card:hover {
            transform: translateY(-5px);
        }
        
        .indicator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .indicator-name {
            font-weight: bold;
            font-size: 1.1em;
            color: #34495e;
        }
        
        .indicator-sentiment {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .sentiment-optimistic {
            background-color: rgba(39, 174, 96, 0.2);
            color: #27ae60;
        }
        
        .sentiment-neutral {
            background-color: rgba(243, 156, 18, 0.2);
            color: #f39c12;
        }
        
        .sentiment-pessimistic {
            background-color: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }
        
        .sentiment-missing {
            background-color: rgba(189, 195, 199, 0.2);
            color: #7f8c8d;
        }
        
        .indicator-value {
            font-size: 1.8em;
            font-weight: bold;
            margin: 10px 0;
            color: #2c3e50;
        }
        
        .mini-chart {
            height: 50px;
            background-color: #f1f2f6;
            border-radius: 5px;
            margin-top: auto;
            position: relative;
            overflow: hidden;
        }
        
        /* å“åº”å¼å¸ƒå±€ */
        @media (max-width: 1200px) {
            .indicators-grid {
                grid-template-columns: repeat(3, 1fr); /* 3åˆ—å¸ƒå±€ */
            }
        }
        
        @media (max-width: 900px) {
            .indicators-grid {
                grid-template-columns: repeat(2, 1fr); /* 2åˆ—å¸ƒå±€ */
            }
        }
        
        @media (max-width: 600px) {
            .indicators-grid {
                grid-template-columns: 1fr; /* 1åˆ—å¸ƒå±€ */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š ç¾è‚¡æƒ…ç»ªæŒ‡æ ‡å¡ç‰‡</h1>
            <p>å±•ç¤ºæœ€æ–°äº¤æ˜“æ—¥çš„11ä¸ªå…³é”®æƒ…ç»ªæŒ‡æ ‡</p>
        </div>
        
        <div class="indicators-grid" id="indicatorsGrid">
            <!-- æŒ‡æ ‡å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

    <script>
        // æ¨¡æ‹ŸæŒ‡æ ‡æ•°æ® - å®é™…åº”ç”¨ä¸­åº”ä»JSONæ–‡ä»¶åŠ è½½
        const indicatorsData = [
            { name: "TRIN æŒ‡æ•° (Arms Index)", value: 1.24, sentiment: "pessimistic", data: [1.24, 1.19, 1.23, 1.03] },
            { name: "Put/Call Ratio", value: 0.54, sentiment: "optimistic", data: [0.54, 0.56, 0.53, 0.53] },

            { name: "æ¶¨è·Œæ¯” (A/D Ratio)", value: 4.97, sentiment: "optimistic", data: [2.28, 2.44, 0.28, 4.97] },
            { name: "æ–°é«˜/æ–°ä½æ¯” (NH/NL)", value: 11.14, sentiment: "optimistic", data: [1.80, 16.5, 3.21, 11.14] },
            { name: "æˆäº¤é‡è¶‹åŠ¿ (SPY)", value: 1.31, sentiment: "optimistic", data: [1.47, 1.14, 1.04, 1.31] },
            { name: "SPY å½“æ—¥å‡€æµå…¥é‡‘é¢", value: 4100, sentiment: "optimistic", data: [594.4, 2900, 3300, 4100] },
            { name: "é¿é™©èµ„äº§æµå‘ (TLT+GLD)", value: null, sentiment: "missing", data: [689.5, 473.2, 138.6, null] },
            { name: "ç¾å…ƒæŒ‡æ•° (DXY)", value: 96.762, sentiment: "optimistic", data: [98.01, 97.45, 97.273, 96.762] },
            { name: "CNN Fear & Greed", value: 63, sentiment: "optimistic", data: [55, 57, 58, 63] },
            { name: "VIX æŒ‡æ•° (ææ…ŒæŒ‡æ•°)", value: 16.32, sentiment: "optimistic", data: [19.83, 17.48, 16.76, 16.59, 16.32] }
        ];

        // å¼‚æ­¥åŠ è½½æŒ‡æ ‡æ•°æ®çš„å‡½æ•°ï¼ˆå¯é€‰ï¼‰
        async function loadIndicatorsData() {
            try {
                // å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥ä»æœåŠ¡å™¨è·å–æ•°æ®
                // const response = await fetch('indicators_data.json');
                // if (response.ok) {
                //     return await response.json();
                // }
            } catch (error) {
                console.log('ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®:', error.message);
            }
            return indicatorsData; // å›é€€åˆ°æ¨¡æ‹Ÿæ•°æ®
        }

        // æ ¼å¼åŒ–æ•°å€¼æ˜¾ç¤º
        function formatValue(value, name) {
            if (value === null) return "N/A";
            
            // æ ¹æ®æŒ‡æ ‡åç§°å®šåˆ¶æ ¼å¼åŒ–
            if (name.includes("SPY å½“æ—¥å‡€æµå…¥")) {
                return `${value > 0 ? '+' : ''}${value.toFixed(1)}M`;
            } else if (name.includes("æ¶¨è·Œæ¯”") || name.includes("æˆäº¤é‡è¶‹åŠ¿") || name.includes("æ–°é«˜/æ–°ä½æ¯”")) {
                return value.toFixed(2);
            
                } else {
                return value.toString();
            }
        }

        // è·å–æƒ…ç»ªæ ‡ç­¾æ–‡æœ¬
        function getSentimentLabel(sentiment) {
            switch(sentiment) {
                case "optimistic": return "ä¹è§‚";
                case "neutral": return "ä¸­æ€§";
                case "pessimistic": return "æ‚²è§‚";
                case "missing": return "ç¼ºå¤±";
                default: return "æœªçŸ¥";
            }
        }

        // æ¸²æŸ“æŒ‡æ ‡å¡ç‰‡
        function renderIndicatorCards(indicators) {
            const gridContainer = document.getElementById('indicatorsGrid');
            gridContainer.innerHTML = ''; // æ¸…ç©ºå®¹å™¨
            
            indicators.forEach(indicator => {
                // åˆ›å»ºå¡ç‰‡å…ƒç´ 
                const card = document.createElement('div');
                card.className = 'indicator-card';
                
                // å¡ç‰‡å¤´éƒ¨ï¼ˆæŒ‡æ ‡åç§°å’Œæƒ…ç»ªæ ‡ç­¾ï¼‰
                const header = document.createElement('div');
                header.className = 'indicator-header';
                
                const name = document.createElement('div');
                name.className = 'indicator-name';
                name.textContent = indicator.name;
                
                const sentiment = document.createElement('div');
                sentiment.className = `indicator-sentiment sentiment-${indicator.sentiment}`;
                sentiment.textContent = getSentimentLabel(indicator.sentiment);
                
                header.appendChild(name);
                header.appendChild(sentiment);
                
                // æŒ‡æ ‡æ•°å€¼
                const value = document.createElement('div');
                value.className = 'indicator-value';
                value.textContent = formatValue(indicator.value, indicator.name);
                
                // è¿·ä½ å›¾è¡¨å ä½ç¬¦
                const miniChart = document.createElement('div');
                miniChart.className = 'mini-chart';
                miniChart.setAttribute('data-values', JSON.stringify(indicator.data));
                
                // ç»„è£…å¡ç‰‡
                card.appendChild(header);
                card.appendChild(value);
                card.appendChild(miniChart);
                
                // æ·»åŠ åˆ°ç½‘æ ¼
                gridContainer.appendChild(card);
            });
            
            // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œå¯ä»¥æ·»åŠ ä»£ç æ¥ç»˜åˆ¶è¿·ä½ å›¾è¡¨
            // drawMiniCharts();
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async () => {
            const indicators = await loadIndicatorsData();
            renderIndicatorCards(indicators);
        });
    </script>
</body>
</html>